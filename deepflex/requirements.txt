# requirements.txt
# ----------------
# Environment specification for running evolutionaryscale/esm (ESM-C models).
# Generated based on a successful installation using:
# 1. conda create -n esmc_env python=3.10 -y
# 2. conda activate esmc_env
# 3. conda install pytorch torchvision torchaudio pytorch-cuda=12.1 -c pytorch -c nvidia -y (Adjust CUDA version if needed)
# 4. conda install biopython -y  (Installed 1.78 initially)
# 5. pip install esm           (Installed esm==3.2.0 and dependencies)
# 6. pip install --upgrade biopython (Likely upgraded to fix import errors, e.g., to 1.81 or later)
#
# It's recommended to install PyTorch via conda *first* as specified above,
# then install the rest using this file: pip install -r requirements.txt
# ----------------

# --- Core ML Framework ---
torch==2.5.1         # PyTorch version installed via conda (CUDA version handled by conda install)
torchvision==0.20.1  # Usually installed alongside PyTorch
torchaudio==2.5.1    # Usually installed alongside PyTorch

# --- ESM Library and Direct Dependencies ---
esm==3.2.0           # The main library from evolutionaryscale
biopython>=1.81      # Needs a version newer than 1.78 to resolve import errors (use pip to upgrade/install)
transformers<4.48.2,>=4.0.0 # Specific requirement from esm 3.2.0 (e.g., 4.48.1 was installed)
tokenizers>=0.21,<0.22   # Specific requirement from esm/transformers (e.g., 0.21.1 was installed)
huggingface-hub>=0.24.0,<1.0 # Dependency for model/token downloads (e.g., 0.30.2 was installed)
safetensors>=0.4.1   # Dependency for model weight loading

# --- Other Key Dependencies often used with ESM or found in ESM-Flex ---
numpy>=1.25          # Fundamental numerical library (e.g., 1.26.4 was installed)
pandas>=1.3.0        # For data manipulation (e.g., 2.2.3 was installed)
scikit-learn>=1.0.0  # For evaluation metrics (e.g., 1.6.1 was installed)
scipy>=1.7.0         # Often used with scikit-learn/numpy (e.g., 1.15.2 was installed)
pyyaml>=6.0          # For handling config.yaml files (e.g., 6.0.2 was installed)
matplotlib>=3.4.0    # For plotting (likely needed for evaluate/predict scripts)
tqdm>=4.27           # For progress bars

# --- Optional but Recommended for ESM Features ---
biotite>=1.0.0       # Used in esm.utils, dependency of esm (e.g., 1.2.0 was installed)
einops               # Used by some attention/transformer layers (e.g., 0.8.1 was installed)

# --- Notes ---
# - Install PyTorch with the correct CUDA version via conda first.
# - If you encounter BioPython import errors after initial install, run:
#   pip install --upgrade biopython